"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[761],{761:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(1413),i=n(2791),s=n(7689),o=n(9164),a=n(890),l=n(4554),c=n(7246),u=n(1570),p=n(5138);var x=n(9439),d=n(5527),m=n(7391),f=n(3400),h=n(8096),v=n(4925),g=n(9321),j=n(4638),Z=n(3239);var b=n(5403),y=n(5130),C=n(184),w=function(e){var t=e.isLoading,n=(0,i.useState)(""),r=(0,x.Z)(n,2),o=r[0],c=r[1],p=(0,i.useState)(""),w=(0,x.Z)(p,2),k=w[0],S=w[1],T=(0,i.useState)(""),z=(0,x.Z)(T,2),D=z[0],R=z[1],M=(0,s.s0)();return(0,C.jsxs)(d.Z,{sx:{px:{sm:6,xs:3},pt:{sm:5,xs:3},pb:{sm:6,xs:4},borderRadius:2,width:"fit-content",mx:"auto",position:"relative"},elevation:5,children:[(0,C.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",maxWidth:"450px",mx:"auto",gap:{sm:3,xs:2}},component:"form",onSubmit:function(e){if(e.preventDefault(),0!==o.length){var t=function(e){var t="?";for(var n in e)e[n]&&(t+="".concat(n,"=").concat(e[n],"&"));return t.slice(0,t.length-1)}({title:o.trim().toLowerCase(),year:k,type:D});M(u.k9.path+"/"+t)}},children:[(0,C.jsx)(a.Z,{variant:"body1",sx:{fontSize:{md:"2rem",sm:"1.75rem",xs:"1.5rem",textAlign:"center"}},children:"Let's find some Movies"}),(0,C.jsx)(m.Z,{label:"Title",InputProps:{onChange:function(e){return c((function(){return e.target.value}))},value:o,autoComplete:"off",disabled:t,inputMode:"search",endAdornment:Boolean(o)&&(0,C.jsx)(f.Z,{onClick:function(){c((function(){return""}))},children:(0,C.jsx)(y.Z,{})})},inputProps:{pattern:".{3,}",title:"Three or more characters."}}),(0,C.jsxs)(l.Z,{sx:{display:"flex",flexWrap:"wrap",gap:{sm:2,xs:1},justifyContent:"center"},children:[(0,C.jsx)(m.Z,{label:"Year",sx:{flexGrow:1},InputProps:{inputMode:"numeric",onChange:function(e){return S((function(){return e.target.value}))},value:k,autoComplete:"off",disabled:t},inputProps:{pattern:"[0-9]{4}",title:"Check the year."}}),(0,C.jsxs)(h.Z,{sx:{flexGrow:2,minWidth:"90px"},disabled:t,children:[(0,C.jsx)(v.Z,{children:"Type"}),(0,C.jsxs)(g.Z,{label:"Type",sx:{px:1},value:D,onChange:function(e){return R((function(){return e.target.value}))},children:[(0,C.jsx)(j.Z,{value:"",children:"Empty"}),(0,C.jsx)(j.Z,{value:"movie",children:"Movie"}),(0,C.jsx)(j.Z,{value:"series",children:"Series"})]})]}),(0,C.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(f.Z,{size:"large",type:"submit",disabled:t,children:(0,C.jsx)(b.Z,{})})})]})]}),t&&(0,C.jsx)(Z.Z,{size:24,sx:{position:"absolute",top:"50%",left:"50%",mt:"-12px",ml:"-12px"}})]})},k=n(5519),S=n(1258),T=function(e){var t=e.movieData,n=e.onClick;return(0,C.jsxs)(l.Z,{sx:{boxSizing:"border-box",px:3,py:2,cursor:"pointer",width:"min(100%, 340px)",transition:"0.3s transform","&:hover":{transform:"scale(95%)"}},onClick:function(){return n(t.imdbID)},children:[(0,C.jsx)("img",{src:"N/A"!==t.Poster?t.Poster:"https://thumbs.dreamstime.com/b/ikona-paska-filmu-film-programu-word-wyizolowany-na-bia%C5%82ym-tle-proste-logo-wektorowe-230410953.jpg",alt:t.Title,style:{width:"100%",borderRadius:"15px 15px 10px 10px",aspectRatio:9/14,objectFit:"cover",backgroundRepeat:"no-repeat"},loading:"lazy"}),(0,C.jsxs)(l.Z,{sx:{display:"flex",textAlign:"center",pt:1,gap:2},children:[(0,C.jsxs)(a.Z,{flexGrow:1,children:[t.Title," ",t.Year]}),(0,C.jsx)(a.Z,{bgcolor:k.Z[800],color:S.Z[600],variant:"body2",sx:{py:.8,px:1,height:"min-content",borderRadius:2},children:t.Type.toUpperCase()})]})]},t.imdbID)},z=function(e){var t=e.movies,n=e.onMovieClick;return(0,C.jsx)(l.Z,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:{lg:2,xs:1}},children:t.map((function(e){return(0,C.jsx)(T,{movieData:e,onClick:n},e.imdbID)}))})},D=function(){var e=(0,s.s0)(),t=(0,s.TH)(),n=function(e){if(!e)return{};var t={};return e.slice(1).split("&").map((function(e){return e.split("=")})).forEach((function(e){t[e[0]]=e[1]})),t}(t.search),x=p.g.useSearchFilmByTitleQuery((0,r.Z)({page:1},n),{skip:!Boolean(n.title)}),d=x.currentData,m=x.isError,f=Boolean(n.title)&&!d;return(0,i.useLayoutEffect)((function(){window.scrollTo({top:0})}),[]),m?(0,C.jsx)(o.Z,{maxWidth:"xl",sx:{pt:2,pb:3},children:(0,C.jsx)(a.Z,{variant:"h3",sx:{fontSize:{md:"2.5rem",sm:"2rem",xs:"1.7rem"},textAlign:"center"},children:"Error!"})}):(0,C.jsxs)(o.Z,{maxWidth:!1,sx:{pt:2,pb:3},children:[(0,C.jsx)(l.Z,{sx:{mb:2},children:(0,C.jsx)(w,{isLoading:f})}),"False"===(null===d||void 0===d?void 0:d.Response)&&(0,C.jsx)(a.Z,{variant:"h3",sx:{fontSize:{md:"2.5rem",sm:"2rem",xs:"1.7rem"},textAlign:"center"},children:"Films not found!"}),"True"===(null===d||void 0===d?void 0:d.Response)&&d.Search&&(0,C.jsx)(z,{movies:d.Search,onMovieClick:function(t){e(u.uX.path.replace(":id",t))}}),(null===d||void 0===d?void 0:d.Search)&&(0,C.jsx)(c.Z,{count:Math.ceil(Number(null===d||void 0===d?void 0:d.totalResults)/10||0),page:null!==n&&void 0!==n&&n.page?+n.page:1,onChange:function(r,i){var s=t.search;(s=s.replace("page=".concat(n.page),"page=".concat(i))).includes("page")||(s+="&page=".concat(i)),window.scrollTo({top:0}),e(t.pathname+s)},sx:{display:"flex",justifyContent:"center"},size:"medium"})]})}}}]);
//# sourceMappingURL=761.59c469fa.chunk.js.map
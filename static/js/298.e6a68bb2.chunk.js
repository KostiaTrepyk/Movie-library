"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[298],{4289:function(e,n,r){function t(e){if(!e)return{};var n={};return e.slice(1).split("&").map((function(e){return e.split("=")})).forEach((function(e){n[e[0]]=e[1]})),n}r.d(n,{j:function(){return t}})},5615:function(e,n,r){function t(e){var n="?";for(var r in e)e[r]&&(n+="".concat(r,"=").concat(e[r],"&"));return n=n.slice(0,n.length-1)}r.d(n,{V:function(){return t}})},2298:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t=r(7689),i=r(4554),a=r(890),o=r(1582),l=r(3400),s=r(4289),c=r(3652),u=r(5615),d=r(1570),p=r(2791),x=r(6151),f=r(7047),g=r(184),h=function(){return(0,g.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,g.jsx)(f.Z,{variant:"text",height:30}),(0,g.jsx)(f.Z,{variant:"text",height:30}),(0,g.jsx)(f.Z,{variant:"text",height:30})]})},v=function(e){var n=e.activeGenre,r=e.onChange,t=c.q.useGetAllGenresQuery(void 0),a=t.data;return t.isFetching?(0,g.jsx)(h,{}):(0,g.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"space-between"},onClick:function(e){r&&r(e.target.value)},children:null===a||void 0===a?void 0:a.results.map((function(e){return(0,g.jsx)(p.Fragment,{children:e&&(0,g.jsx)(x.Z,{value:e,color:n===e?"primary":"inherit",variant:n===e?"contained":"text",children:e})},e)}))})},m=r(9835),j=r(5519),y=r(1258),Z=function(e){var n,r,t,o,l,s=e.movieData,c=e.onClick;return(0,g.jsxs)(i.Z,{sx:{boxSizing:"border-box",px:3,py:2,cursor:"pointer",width:"min(100%, 340px)",transition:"0.3s transform","&:hover":{transform:"scale(95%)"}},onClick:function(){return c(s.id)},children:[(0,g.jsx)("img",{src:s.primaryImage&&null!==(n=s.primaryImage)&&void 0!==n&&n.url&&(null===(r=s.primaryImage)||void 0===r?void 0:r.width)<2e3?null===(t=s.primaryImage)||void 0===t?void 0:t.url:"https://thumbs.dreamstime.com/b/ikona-paska-filmu-film-programu-word-wyizolowany-na-bia%C5%82ym-tle-proste-logo-wektorowe-230410953.jpg",alt:null===(o=s.primaryImage)||void 0===o?void 0:o.caption.plainText,style:{width:"100%",borderRadius:"15px 15px 10px 10px",aspectRatio:9/14,objectFit:"cover"},loading:"lazy"}),(0,g.jsxs)(i.Z,{sx:{display:"flex",textAlign:"center",pt:1,gap:2},children:[(0,g.jsxs)(a.Z,{flexGrow:1,children:[s.titleText.text," ",null===(l=s.releaseYear)||void 0===l?void 0:l.year]}),(0,g.jsx)(a.Z,{bgcolor:j.Z[800],color:y.Z[600],variant:"body2",sx:{py:.8,px:1,height:"min-content",borderRadius:2},children:s.titleType.text.toUpperCase()})]})]},s._id)},w=function(e){var n=e.movies,r=e.onMovieClick;return(0,g.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:{lg:2,xs:1}},children:n.map((function(e){return(0,g.jsx)(Z,{movieData:e,onClick:r},e._id)}))})},b=r(260),k=r(3385),C="Drama",G=function(){var e=(0,s.j)((0,t.TH)().search),n=c.q.useGetByGenreQuery({genre:e.genre||C,page:e.page||1}),r=n.data,p=n.isError,x=n.isFetching,f=n.isSuccess,h=(0,t.s0)();function j(n){var r=(0,u.V)({genre:e.genre||C,page:+e.page+n||2});h(d.Qd.path+"/"+r)}return(0,g.jsxs)(m.Z,{loading:x,children:[(0,g.jsx)(i.Z,{mb:2,children:(0,g.jsx)(v,{activeGenre:e.genre||C,onChange:function(e){e&&h(d.Qd.path+"/?genre="+e+"&page=1")}})}),f&&(0,g.jsx)(w,{movies:r.results,onMovieClick:function(e){console.log(e),h(d.uX.path.replace(":id",e))}}),p&&(0,g.jsx)(a.Z,{variant:"h4",align:"center",sx:{mt:3},children:"Notwork error! Try later."}),r&&!p&&(0,g.jsxs)(o.Z,{direction:"row",spacing:2,justifyContent:"center",mt:2,children:[(0,g.jsx)(l.Z,{disabled:x||p||+e.page<=1||!e.page,onClick:function(){return j(-1)},children:(0,g.jsx)(b.Z,{})}),(0,g.jsx)(l.Z,{disabled:x||p||!(null!==r&&void 0!==r&&r.next),onClick:function(){return j(1)},children:(0,g.jsx)(k.Z,{})})]})]})}},260:function(e,n,r){var t=r(4836);n.Z=void 0;var i=t(r(5649)),a=r(184),o=(0,i.default)((0,a.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew");n.Z=o},3385:function(e,n,r){var t=r(4836);n.Z=void 0;var i=t(r(5649)),a=r(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=o}}]);
//# sourceMappingURL=298.e6a68bb2.chunk.js.map
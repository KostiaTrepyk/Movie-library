"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[128],{9128:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var i=n(1413),r=n(7689),s=n(5138),a=n(9164),o=n(890),l=n(4554),x=n(7246),c=n(1570),p=n(9439),u=n(5527),d=n(7391),m=n(8096),f=n(4925),h=n(9321),g=n(4638),v=n(3400),j=n(3239),b=n(5403),Z=n(2791);var y=n(184),w=function(e){var t=e.isLoading,n=(0,Z.useState)(""),i=(0,p.Z)(n,2),s=i[0],a=i[1],x=(0,Z.useState)(""),w=(0,p.Z)(x,2),C=w[0],S=w[1],k=(0,Z.useState)(""),z=(0,p.Z)(k,2),R=z[0],T=z[1],W=(0,r.s0)();return(0,y.jsxs)(u.Z,{sx:{px:{sm:6,xs:3},pt:{sm:5,xs:3},pb:{sm:6,xs:4},borderRadius:2,width:"fit-content",mx:"auto",position:"relative"},elevation:5,children:[(0,y.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",maxWidth:"450px",mx:"auto",gap:{sm:3,xs:2}},component:"form",onSubmit:function(e){if(e.preventDefault(),0!==s.length){var t,n=(t={title:s.trim(),year:C,type:R},"?"+new URLSearchParams(t).toString());W(c.k9.path+"/"+n)}},children:[(0,y.jsx)(o.Z,{variant:"body1",sx:{fontSize:{md:"2rem",sm:"1.75rem",xs:"1.5rem",textAlign:"center"}},children:"Let's find some Movies"}),(0,y.jsx)(d.Z,{type:"search",label:"Title",value:s,onChange:function(e){return a((function(){return e.target.value}))},autoComplete:"off",disabled:t}),(0,y.jsxs)(l.Z,{sx:{display:"flex",flexWrap:"wrap",gap:{sm:2,xs:1},justifyContent:"center"},children:[(0,y.jsx)(d.Z,{label:"Year",type:"number",value:C,onChange:function(e){return S((function(){return e.target.value.toString()}))},sx:{flexGrow:1},autoComplete:"off",disabled:t}),(0,y.jsxs)(m.Z,{sx:{flexGrow:2,minWidth:"90px"},disabled:t,children:[(0,y.jsx)(f.Z,{children:"Type"}),(0,y.jsxs)(h.Z,{label:"Type",sx:{px:1},value:R,onChange:function(e){return T((function(){return e.target.value}))},children:[(0,y.jsx)(g.Z,{value:"",children:"Empty"}),(0,y.jsx)(g.Z,{value:"movie",children:"Movie"}),(0,y.jsx)(g.Z,{value:"series",children:"Series"}),(0,y.jsx)(g.Z,{value:"episode",children:"Episode"})]})]}),(0,y.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,y.jsx)(v.Z,{size:"large",type:"submit",disabled:t,children:(0,y.jsx)(b.Z,{})})})]})]}),t&&(0,y.jsx)(j.Z,{size:24,sx:{position:"absolute",top:"50%",left:"50%",mt:"-12px",ml:"-12px"}})]})},C=function(){var e,t=(0,r.s0)(),n=(0,r.TH)(),p=function(e){if(!e)return{};var t={};return e.slice(1).split("&").map((function(e){return e.split("=")})).forEach((function(e){t[e[0]]=e[1]})),t}(n.search),u=s.g.useSearchFilmByTitleQuery((0,i.Z)({page:1},p),{skip:!Boolean(p.title)}),d=u.currentData,m=u.isError,f=!d&&"/search"!==n.pathname;return m?(0,y.jsx)(a.Z,{maxWidth:"xl",sx:{pt:2,pb:3,textAlign:"center"},children:(0,y.jsx)(o.Z,{variant:"h3",sx:{fontSize:{md:"2.5rem",sm:"2rem",xs:"1.7rem"}},children:"Error!"})}):(0,y.jsxs)(a.Z,{maxWidth:"xl",sx:{pt:2,pb:3},children:[(0,y.jsx)(l.Z,{sx:{mb:2,position:"relative"},children:(0,y.jsx)(w,{isLoading:f})}),"False"===(null===d||void 0===d?void 0:d.Response)&&(0,y.jsx)(o.Z,{variant:"h3",sx:{fontSize:{md:"2.5rem",sm:"2rem",xs:"1.7rem"},textAlign:"center"},children:"Films not found!"}),"True"===(null===d||void 0===d?void 0:d.Response)&&(0,y.jsx)(l.Z,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:{lg:2,xs:1}},children:null===(e=d.Search)||void 0===e?void 0:e.map((function(e){return(0,y.jsxs)(l.Z,{sx:{boxSizing:"border-box",px:3,py:2,cursor:"pointer",width:"min(100%, 340px)",transition:"0.3s transform","&:hover":{transform:"scale(95%)"}},onClick:function(){return n=e.imdbID,void t(c.uX.path.replace(":id",n));var n},children:[(0,y.jsx)("img",{src:"N/A"!==e.Poster?e.Poster:"https://thumbs.dreamstime.com/b/ikona-paska-filmu-film-programu-word-wyizolowany-na-bia%C5%82ym-tle-proste-logo-wektorowe-230410953.jpg",alt:e.Title,style:{width:"100%",borderRadius:"15px 15px 10px 10px",aspectRatio:9/14,objectFit:"cover",backgroundRepeat:"no-repeat"},loading:"lazy"}),(0,y.jsxs)(l.Z,{sx:{display:"flex",textAlign:"center",pt:1,gap:2},children:[(0,y.jsxs)(o.Z,{flexGrow:1,children:[e.Title," ",e.Year]}),(0,y.jsx)(o.Z,{bgcolor:"#fff2",color:"orange",variant:"body2",sx:{py:.8,px:1,height:"min-content",borderRadius:2},children:e.Type.toUpperCase()})]})]},e.imdbID)}))}),(null===d||void 0===d?void 0:d.Search)&&(0,y.jsx)(x.Z,{count:Math.ceil(Number(null===d||void 0===d?void 0:d.totalResults)/10||0),page:null!==p&&void 0!==p&&p.page?+p.page:1,onChange:function(e,i){var r=n.search;r.includes("page")?r=r.replace("page=".concat(p.page),"page=".concat(i)):r+="&page=".concat(i),t(n.pathname+r)},sx:{display:"flex",justifyContent:"center"},size:"medium"})]})}}}]);
//# sourceMappingURL=128.f277db93.chunk.js.map